{"remainingRequest":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/babel-loader/lib/index.js!/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/src/views/MyAccount.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/src/views/MyAccount.vue","mtime":1647793431945},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/babel.config.js","mtime":1645704833638},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/cache-loader/dist/cjs.js","mtime":1645704829921},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/babel-loader/lib/index.js","mtime":1645704830162},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/cache-loader/dist/cjs.js","mtime":1645704829921},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/vue-loader-v16/dist/index.js","mtime":1645704830161}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kb2xhbmJhaXJhZ2kvUHVibGljL0ZyYW1ld29ya3MvUHlKcy9nZXQzU2l4dHkvZ2V0M3NpeHR5X2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IE9yZGVyU3VtbWFyeSBmcm9tICcuLi9jb21wb25lbnRzL09yZGVyU3VtbWFyeS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ015QWNjb3VudCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9yZGVyczogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSAnTXkgYWNjb3VudCB8IEdldDNTaXh0eSc7CiAgICB0aGlzLmdldE15T3JkZXJzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICIiOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJuYW1lIik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyaWQiKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJyZW1vdmVUb2tlbiIpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfSwKICAgIGdldE15T3JkZXJzOiBmdW5jdGlvbiBnZXRNeU9yZGVycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNMb2FkaW5nJywgdHJ1ZSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvYXBpL3YxL29yZGVycy8nKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5vcmRlcnMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xvYWRpbmcnLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE9yZGVyU3VtbWFyeTogT3JkZXJTdW1tYXJ5CiAgfQp9Ow=="},{"version":3,"mappings":";;AAwBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,eAAe;AACXC,MAAI,EAAE,WADK;AAEXC,MAFW,kBAEJ;AACH,WAAO;AACHC,YAAM,EAAE;AADL,KAAP;AAGH,GANU;AAOXC,SAPW,qBAOD;AACNC,YAAQ,CAACC,KAAT,GAAiB,wBAAjB;AACA,SAAKC,WAAL;AACH,GAVU;AAWXC,SAAO,EAAE;AACLC,UADK,oBACG;AACJV,WAAK,CAACW,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,EAAjD;AAEAC,kBAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,kBAAY,CAACC,UAAb,CAAwB,UAAxB;AACAD,kBAAY,CAACC,UAAb,CAAwB,QAAxB;AAEA,WAAKC,MAAL,CAAYC,MAAZ,CAAmB,aAAnB;AAEA,WAAKC,OAAL,CAAaC,IAAb,CAAkB,GAAlB;AACH,KAXI;AAaCX,eAbD,yBAac;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACf,qBAAI,CAACQ,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AADe;AAAA,uBAGTjB,KAAI,CACLoB,GADC,CACG,iBADH,EAEDC,IAFC,CAEI,kBAAO,EAAK;AACd,uBAAI,CAACjB,MAAL,GAAckB,QAAQ,CAACnB,IAAvB;AACH,iBAJC,EAKDoB,KALC,CAKK,eAAI,EAAK;AACZC,yBAAO,CAACC,GAAR,CAAYC,KAAZ;AACH,iBAPC,CAHS;;AAAA;AAWf,qBAAI,CAACV,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAXe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYnB;AAzBK,GAXE;AAsCXU,YAAU,EAAE;AACR1B,gBAAW,EAAXA;AADQ;AAtCD,CAAf","names":["axios","OrderSummary","name","data","orders","mounted","document","title","getMyOrders","methods","logout","defaults","headers","common","localStorage","removeItem","$store","commit","$router","push","get","then","response","catch","console","log","error","components"],"sourceRoot":"","sources":["/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/src/views/MyAccount.vue"],"sourcesContent":["<template>\n    <div class=\"page-my-account\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h1 class=\"title\">My account</h1>\n            </div>\n\n            <div class=\"column is-12\">\n                <button class=\"button is-danger\" @click=\"logout()\">Log out</button>\n            </div>\n\n            <hr>\n\n            <div class=\"column is-12\">\n                <h2 class=\"subtitle\">My orders</h2>\n\n                <OrderSummary v-for=\"order in orders\" :key=\"order.id\" :order=\"order\"/>\n            </div>\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport OrderSummary from '../components/OrderSummary.vue'\nexport default {\n    name: 'MyAccount',\n    data() {\n        return {\n            orders: []\n        }\n    },\n    mounted() {\n        document.title = 'My account | Get3Sixty'\n        this.getMyOrders()\n    },    \n    methods: {\n        logout(){\n            axios.defaults.headers.common[\"Authorization\"] = \"\"\n\n            localStorage.removeItem(\"token\")\n            localStorage.removeItem(\"username\")\n            localStorage.removeItem(\"userid\")\n\n            this.$store.commit(\"removeToken\")\n\n            this.$router.push('/')\n        },\n\n        async getMyOrders(){\n            this.$store.commit('setIsLoading', true)\n\n            await axios\n                .get('/api/v1/orders/')\n                .then(response => {\n                    this.orders = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n            this.$store.commit('setIsLoading', false)\n        }\n    },\n    components: {\n        OrderSummary\n    },\n\n}\n</script>\n\n<style>\n\n</style>"]}]}