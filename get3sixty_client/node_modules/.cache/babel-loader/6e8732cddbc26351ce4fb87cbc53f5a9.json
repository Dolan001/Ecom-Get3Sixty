{"remainingRequest":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/babel-loader/lib/index.js!/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/src/views/SignUp.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/src/views/SignUp.vue","mtime":1647364869044},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/babel.config.js","mtime":1645704833638},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/cache-loader/dist/cjs.js","mtime":1645704829921},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/babel-loader/lib/index.js","mtime":1645704830162},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/cache-loader/dist/cjs.js","mtime":1645704829921},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/vue-loader-v16/dist/index.js","mtime":1645704830161}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyB0b2FzdCB9IGZyb20gJ2J1bG1hLXRvYXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTaWduVXAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgcGFzc3dvcmQyOiAnJywKICAgICAgZXJyb3JzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgICAgaWYgKHRoaXMudXNlcm5hbWUgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVGhlIHVzZXJuYW1lIGlzIG1pc3NpbmcnKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVGhlIHBhc3N3b3JkIGZpZWxkIGlzIGVtcHR5Jyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkICE9PSB0aGlzLnBhc3N3b3JkMikgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ1RoZSBwYXNzd29yZCBkb2VzblwndCBtYXRjaCcpOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuZXJyb3JzLmxlbmd0aCkgewogICAgICAgIHZhciBmb3JtRGF0YSA9IHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcm5hbWUsIHRoaXMucGFzc3dvcmQpOwogICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvdjEvdXNlcnMvJywgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdG9hc3QoewogICAgICAgICAgICBtZXNzYWdlOiAnQWNjb3VudCBjcmVhdGVkLCBwbGVhc2UgbG9nIGluJywKICAgICAgICAgICAgdHlwZTogJ2lzLXN1Y2Nlc3MnLAogICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtY2VudGVyJwogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvbG9nLWluJyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgaWYgKGVyci5yZXMpIHsKICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZXJyLnJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyLnJlcy5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnIucmVzLmRhdGEpKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZXJyLm1lc3NhZ2UpIHsKICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluJyk7CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnIpKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;AAkDA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,aAApB;AAEA,eAAe;AACXC,MAAI,EAAE,QADK;AAEXC,MAFW,kBAEL;AACF,WAAM;AACFC,cAAQ,EAAE,EADR;AAEFC,cAAQ,EAAE,EAFR;AAGFC,eAAS,EAAE,EAHT;AAIFC,YAAM,EAAE;AAJN,KAAN;AAMH,GATU;AAUXC,SAAO,EAAE;AACLC,cADK,wBACO;AAAA;;AACR,WAAKF,MAAL,GAAc,EAAd;;AAEA,UAAI,KAAKH,QAAL,KAAkB,EAAtB,EAAyB;AACrB,aAAKG,MAAL,CAAYG,IAAZ,CAAiB,yBAAjB;AACJ;;AACA,UAAG,KAAKL,QAAL,KAAkB,EAArB,EAAwB;AACpB,aAAKE,MAAL,CAAYG,IAAZ,CAAiB,6BAAjB;AACJ;;AACA,UAAG,KAAKL,QAAL,KAAkB,KAAKC,SAA1B,EAAoC;AAChC,aAAKC,MAAL,CAAYG,IAAZ,CAAiB,6BAAjB;AACJ;;AAEA,UAAI,CAAC,KAAKH,MAAL,CAAYI,MAAjB,EAAwB;AACpB,YAAMC,QAAO,GAAI;AACbR,kBAAO,EAAI,KAAKA,QADH;AAEbC,kBAAO,EAAI,KAAKA;AAFH,SAAjB;AAKAQ,eAAO,CAACC,GAAR,CAAY,KAAKV,QAAjB,EAA2B,KAAKC,QAAhC;AAEAL,aAAI,CACCe,IADL,CACU,gBADV,EAC4BH,QAD5B,EAEKI,IAFL,CAEU,aAAE,EAAK;AACTf,eAAK,CAAC;AACFgB,mBAAO,EAAE,gCADP;AAEFC,gBAAI,EAAE,YAFJ;AAGFC,uBAAW,EAAE,IAHX;AAIFC,wBAAY,EAAE,IAJZ;AAKFC,oBAAQ,EAAE,IALR;AAMFC,oBAAQ,EAAE;AANR,WAAD,CAAL;;AASA,eAAI,CAACC,OAAL,CAAab,IAAb,CAAkB,SAAlB;AACH,SAbL,EAcKc,KAdL,CAcW,aAAE,EAAK;AACV,cAAIC,GAAG,CAACC,GAAR,EAAY;AACR,iBAAI,IAAMC,QAAV,IAAsBF,GAAG,CAACC,GAAJ,CAAQvB,IAA9B,EAAmC;AAC/B,mBAAI,CAACI,MAAL,CAAYG,IAAZ,WAAoBiB,QAApB,eAAiCF,GAAG,CAACC,GAAJ,CAAQvB,IAAR,CAAawB,QAAb,CAAjC;AACJ;;AACAd,mBAAO,CAACC,GAAR,CAAYc,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACC,GAAJ,CAAQvB,IAAvB,CAAZ;AACJ,WALA,MAKO,IAAIsB,GAAG,CAACR,OAAR,EAAgB;AACnB,iBAAI,CAACV,MAAL,CAAYG,IAAZ,CAAiB,wCAAjB;;AACAG,mBAAO,CAACC,GAAR,CAAYc,IAAI,CAACC,SAAL,CAAeJ,GAAf,CAAZ;AAEJ;AACH,SAzBL;AA0BJ;AAEJ;AAlDK;AAVE,CAAf","names":["axios","toast","name","data","username","password","password2","errors","methods","submitForm","push","length","formData","console","log","post","then","message","type","dismissible","pauseOnHover","duration","position","$router","catch","err","res","property","JSON","stringify"],"sourceRoot":"","sources":["/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/src/views/SignUp.vue"],"sourcesContent":["<template>\n  <div class=\"page-sign-up\">\n      <div class=\"columns\">\n          <div class=\"column is-4 is-offset-4\">\n              <h1 class=\"title\">Sign up</h1>\n              <form @submit.prevent=\"submitForm\">\n\n                  <div class=\"field\">\n                      <label>Username</label>\n                      <div class=\"control\">\n                          <input type=\"text\" class=\"input\" v-model=\"username\">\n                      </div>\n                  </div>\n\n                  <div class=\"field\">\n                      <label>Password (Must be at least 8 charecters including letters and numbers)</label>\n                      <div class=\"control\">\n                          <input type=\"password\" class=\"input\" v-model=\"password\">\n                      </div>\n                  </div>\n\n                  <div class=\"field\">\n                      <label>Repeat password</label>\n                      <div class=\"control\">\n                          <input type=\"password\" class=\"input\" v-model=\"password2\">\n                      </div>\n                  </div>\n\n                  <div class=\"notification is-danger\" v-if=\"errors.length\">\n                      <p v-for=\"error in errors\" :key=\"error\">{{error}}</p>\n                  </div>\n\n                  <div class=\"field\">\n                      <div class=\"control\">\n                          <button class=\"button is-dark\">Sign up</button>\n                        </div>                  \n                  </div>\n\n                  <hr>\n\n                  Or <router-link to=\"/log-in\">click here</router-link> to log in!\n\n              </form>\n          </div>\n      </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {toast} from 'bulma-toast'\n\nexport default {\n    name: 'SignUp',\n    data(){\n        return{\n            username: '',\n            password: '',\n            password2: '',\n            errors: []\n        }\n    },\n    methods: {\n        submitForm(){\n            this.errors = []\n\n            if (this.username === ''){\n                this.errors.push('The username is missing')\n            }\n            if(this.password === ''){\n                this.errors.push('The password field is empty')\n            }\n            if(this.password !== this.password2){\n                this.errors.push('The password doesn\\'t match')\n            }\n\n            if (!this.errors.length){\n                const formData = {\n                    username : this.username,\n                    password : this.password\n                }\n\n                console.log(this.username, this.password)\n\n                axios\n                    .post('/api/v1/users/', formData)\n                    .then(res => {\n                        toast({\n                            message: 'Account created, please log in',\n                            type: 'is-success',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'top-center'\n                        })\n\n                        this.$router.push('/log-in')\n                    })\n                    .catch(err => {\n                        if (err.res){\n                            for(const property in err.res.data){\n                                this.errors.push(`${property}: ${err.res.data[property]}`)\n                            }\n                            console.log(JSON.stringify(err.res.data))\n                        } else if (err.message){\n                            this.errors.push('Something went wrong, please try again')\n                            console.log(JSON.stringify(err))\n\n                        }\n                    })\n            }\n\n        }\n    },\n\n}\n</script>\n\n<style>\n\n</style>"]}]}