{"remainingRequest":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/babel-loader/lib/index.js!/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/src/views/Product.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/src/views/Product.vue","mtime":1645889422843},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/babel.config.js","mtime":1645704833638},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/cache-loader/dist/cjs.js","mtime":1645704829921},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/babel-loader/lib/index.js","mtime":1645704830162},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/cache-loader/dist/cjs.js","mtime":1645704829921},{"path":"/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/node_modules/vue-loader-v16/dist/index.js","mtime":1645704830161}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kb2xhbmJhaXJhZ2kvUHVibGljL0ZyYW1ld29ya3MvUHlKcy9nZXQzU2l4dHkvZ2V0M3NpeHR5X2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdidWxtYS10b2FzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUHJvZHVjdCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3Q6IHt9LAogICAgICBxdWFudGl0eTogMQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFByb2R1Y3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFByb2R1Y3Q6IGZ1bmN0aW9uIGdldFByb2R1Y3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjYXRlZ29yeV9zbHVnLCBwcm9kdWN0X3NsdWc7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNMb2FkaW5nJywgdHJ1ZSk7CgogICAgICAgICAgICAgICAgY2F0ZWdvcnlfc2x1ZyA9IF90aGlzLiRyb3V0ZS5wYXJhbXMuY2F0ZWdvcnlfc2x1ZzsKICAgICAgICAgICAgICAgIHByb2R1Y3Rfc2x1ZyA9IF90aGlzLiRyb3V0ZS5wYXJhbXMucHJvZHVjdF9zbHVnOwogICAgICAgICAgICAgICAgYXhpb3MuZ2V0KCIvYXBpL3YxL3Byb2R1Y3QvIi5jb25jYXQoY2F0ZWdvcnlfc2x1ZywgIi8iKS5jb25jYXQocHJvZHVjdF9zbHVnKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnByb2R1Y3QgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldElzTG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZFRvQ2FydDogZnVuY3Rpb24gYWRkVG9DYXJ0KCkgewogICAgICBpZiAoaXNOYU4odGhpcy5xdWFudGl0eSB8fCB0aGlzLnF1YW50aXR5IDwgMSkpIHsKICAgICAgICB0aGlzLnF1YW50aXR5ID0gMTsKICAgICAgfQoKICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LAogICAgICAgIHF1YW50aXR5OiB0aGlzLnF1YW50aXR5CiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkVG9DYXJ0JywgaXRlbSk7CiAgICAgIHRvYXN0KHsKICAgICAgICBtZXNzYWdlOiAnVGhlIHByb2R1Y3Qgd2FzIGFkZGVkIHRvIHRoZSBjYXJ0JywKICAgICAgICB0eXBlOiAnaXMtc3VjY2VzcycsCiAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgIHBvc2l0aW9uOiAidG9wLWNlbnRlciIKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;AA6BA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,aAApB;AAEA,eAAe;AACXC,MAAI,EAAE,SADK;AAEXC,MAFW,kBAEL;AACF,WAAM;AACFC,aAAO,EAAC,EADN;AAEFC,cAAQ,EAAE;AAFR,KAAN;AAIH,GAPU;AAQXC,SARW,qBAQD;AACN,SAAKC,UAAL;AACH,GAVU;AAWXC,SAAO,EAAE;AACCD,cADD,wBACa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACd,qBAAI,CAACE,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AAEMC,6BAHQ,GAGQ,KAAI,CAACC,MAAL,CAAYC,MAAZ,CAAmBF,aAH3B;AAIRG,4BAJQ,GAIO,KAAI,CAACF,MAAL,CAAYC,MAAZ,CAAmBC,YAJ1B;AAMdd,qBAAI,CACCe,GADL,2BAC4BJ,aAD5B,cAC6CG,YAD7C,GAEKE,IAFL,CAEU,aAAE,EAAK;AACT,uBAAI,CAACZ,OAAL,GAAea,GAAG,CAACd,IAAnB;AACH,iBAJL,EAKKe,KALL,CAKW,aAAE,EAAK;AACVC,yBAAO,CAACC,GAAR,CAAYC,GAAZ;AACH,iBAPL;;AAQA,qBAAI,CAACZ,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAdc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAejB,KAhBI;AAiBLY,aAjBK,uBAiBM;AACP,UAAGC,KAAK,CAAC,KAAKlB,QAAL,IAAiB,KAAKA,QAAL,GAAgB,CAAlC,CAAR,EAA6C;AACzC,aAAKA,QAAL,GAAgB,CAAhB;AACJ;;AAEA,UAAMmB,IAAG,GAAI;AACTpB,eAAO,EAAE,KAAKA,OADL;AAETC,gBAAQ,EAAE,KAAKA;AAFN,OAAb;AAKA,WAAKI,MAAL,CAAYC,MAAZ,CAAmB,WAAnB,EAAgCc,IAAhC;AAEAvB,WAAK,CAAC;AACFwB,eAAO,EAAE,mCADP;AAEFC,YAAI,EAAE,YAFJ;AAGFC,mBAAW,EAAE,IAHX;AAIFC,oBAAY,EAAE,IAJZ;AAKFC,gBAAQ,EAAE,IALR;AAMFC,gBAAQ,EAAE;AANR,OAAD,CAAL;AAQJ;AArCK;AAXE,CAAf","names":["axios","toast","name","data","product","quantity","mounted","getProduct","methods","$store","commit","category_slug","$route","params","product_slug","get","then","res","catch","console","log","err","addToCart","isNaN","item","message","type","dismissible","pauseOnHover","duration","position"],"sourceRoot":"","sources":["/Users/dolanbairagi/Public/Frameworks/PyJs/get3Sixty/get3sixty_client/src/views/Product.vue"],"sourcesContent":["<template>\n  <div class=\"page-product\">\n      <div class=\"columns is-miltiline\">\n          <div class=\"column is-9\">\n              <figure class=\"image mb-6\">\n                  <img :src=\"product.get_image\">\n              </figure>\n              <h1 class=\"title\">{{product.name}}</h1>\n              <p>{{product.description}}</p>\n          </div>\n\n          <div class=\"column is-3\">\n              <h2 class=\"subtitle\">Information</h2>\n              <p><strong>Price: </strong>${{product.price}}</p>\n\n              <div class=\"field has-addons mt-6\">\n                  <div class=\"control\">\n                      <input type=\"number\" class=\"input\" min=\"1\" v-model=\"quantity\">\n                  </div>\n                  <div class=\"control\">\n                      <a class=\"button is-dark\" @click=\"addToCart\">Add to cart</a>\n                  </div>\n              </div>\n          </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {toast} from 'bulma-toast'\n\nexport default {\n    name: 'Product',\n    data(){\n        return{\n            product:{},\n            quantity: 1\n        }\n    },\n    mounted() {\n        this.getProduct()\n    },\n    methods: {\n        async getProduct(){\n            this.$store.commit('setIsLoading', true)\n\n            const category_slug = this.$route.params.category_slug\n            const product_slug = this.$route.params.product_slug\n\n            axios\n                .get(`/api/v1/product/${category_slug}/${product_slug}`)\n                .then(res => {\n                    this.product = res.data\n                })\n                .catch(err => {\n                    console.log(err)\n                })\n            this.$store.commit('setIsLoading', false)    \n        },\n        addToCart(){\n            if(isNaN(this.quantity || this.quantity < 1)){\n                this.quantity = 1\n            }\n\n            const item = {\n                product: this.product,\n                quantity: this.quantity\n            }\n\n            this.$store.commit('addToCart', item)\n\n            toast({\n                message: 'The product was added to the cart',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"top-center\"\n            })\n        }\n    },\n\n}\n</script>\n\n<style>\n\n</style>"]}]}